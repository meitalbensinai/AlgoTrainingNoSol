<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Orthogonal distance regression (scipy.odr) &mdash; SciPy v0.19.1 Reference Guide</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.19.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="SciPy v0.19.1 Reference Guide" href="index.html" >
    <link rel="next" title="scipy.odr.Data" href="generated/scipy.odr.Data.html" >
    <link rel="prev" title="scipy.ndimage.imread" href="generated/scipy.ndimage.imread.html" > 
  </head>
  <body>

  <div class="container">
    <div class="header">
    </div>
  </div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="index.html">SciPy v0.19.1 Reference Guide</a></li>
	 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="generated/scipy.odr.Data.html" title="scipy.odr.Data"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="generated/scipy.ndimage.imread.html" title="scipy.ndimage.imread"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/scipyshiny_small.png" alt="Logo">
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Orthogonal distance regression (<code class="docutils literal"><span class="pre">scipy.odr</span></code>)</a><ul>
<li><a class="reference internal" href="#package-content">Package Content</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#usage-information">Usage information</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#basic-usage">Basic usage</a></li>
<li><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="generated/scipy.ndimage.imread.html"
                        title="previous chapter">scipy.ndimage.imread</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="generated/scipy.odr.Data.html"
                        title="next chapter">scipy.odr.Data</a></p>


        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <span class="target" id="module-scipy.odr"></span><div class="section" id="orthogonal-distance-regression-scipy-odr">
<h1>Orthogonal distance regression (<a class="reference internal" href="#module-scipy.odr" title="scipy.odr"><code class="xref py py-mod docutils literal"><span class="pre">scipy.odr</span></code></a>)<a class="headerlink" href="#orthogonal-distance-regression-scipy-odr" title="Permalink to this headline">¶</a></h1>
<div class="section" id="package-content">
<h2>Package Content<a class="headerlink" href="#package-content" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="generated/scipy.odr.Data.html#scipy.odr.Data" title="scipy.odr.Data"><code class="xref py py-obj docutils literal"><span class="pre">Data</span></code></a>(x[,&nbsp;y,&nbsp;we,&nbsp;wd,&nbsp;fix,&nbsp;meta])</td>
<td>The data to fit.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/scipy.odr.RealData.html#scipy.odr.RealData" title="scipy.odr.RealData"><code class="xref py py-obj docutils literal"><span class="pre">RealData</span></code></a>(x[,&nbsp;y,&nbsp;sx,&nbsp;sy,&nbsp;covx,&nbsp;covy,&nbsp;fix,&nbsp;meta])</td>
<td>The data, with weightings as actual standard deviations and/or covariances.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/scipy.odr.Model.html#scipy.odr.Model" title="scipy.odr.Model"><code class="xref py py-obj docutils literal"><span class="pre">Model</span></code></a>(fcn[,&nbsp;fjacb,&nbsp;fjacd,&nbsp;extra_args,&nbsp;...])</td>
<td>The Model class stores information about the function you wish to fit.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/scipy.odr.ODR.html#scipy.odr.ODR" title="scipy.odr.ODR"><code class="xref py py-obj docutils literal"><span class="pre">ODR</span></code></a>(data,&nbsp;model[,&nbsp;beta0,&nbsp;delta0,&nbsp;ifixb,&nbsp;...])</td>
<td>The ODR class gathers all information and coordinates the running of the main fitting routine.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/scipy.odr.Output.html#scipy.odr.Output" title="scipy.odr.Output"><code class="xref py py-obj docutils literal"><span class="pre">Output</span></code></a>(output)</td>
<td>The Output class stores the output of an ODR run.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/scipy.odr.odr.html#scipy.odr.odr" title="scipy.odr.odr"><code class="xref py py-obj docutils literal"><span class="pre">odr</span></code></a>(fcn,&nbsp;beta0,&nbsp;y,&nbsp;x[,&nbsp;we,&nbsp;wd,&nbsp;fjacb,&nbsp;...])</td>
<td>Low-level function for ODR.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/scipy.odr.OdrWarning.html#scipy.odr.OdrWarning" title="scipy.odr.OdrWarning"><code class="xref py py-obj docutils literal"><span class="pre">OdrWarning</span></code></a></td>
<td>Warning indicating that the data passed into ODR will cause problems when passed into &#8216;odr&#8217; that the user should be aware of.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/scipy.odr.OdrError.html#scipy.odr.OdrError" title="scipy.odr.OdrError"><code class="xref py py-obj docutils literal"><span class="pre">OdrError</span></code></a></td>
<td>Exception indicating an error in fitting.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/scipy.odr.OdrStop.html#scipy.odr.OdrStop" title="scipy.odr.OdrStop"><code class="xref py py-obj docutils literal"><span class="pre">OdrStop</span></code></a></td>
<td>Exception stopping fitting.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="generated/scipy.odr.odr_error.html#scipy.odr.odr_error" title="scipy.odr.odr_error"><code class="xref py py-obj docutils literal"><span class="pre">odr_error</span></code></a></td>
<td>alias of <a class="reference internal" href="generated/scipy.odr.OdrError.html#scipy.odr.OdrError" title="scipy.odr.OdrError"><code class="xref py py-class docutils literal"><span class="pre">OdrError</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="generated/scipy.odr.odr_stop.html#scipy.odr.odr_stop" title="scipy.odr.odr_stop"><code class="xref py py-obj docutils literal"><span class="pre">odr_stop</span></code></a></td>
<td>alias of <a class="reference internal" href="generated/scipy.odr.OdrStop.html#scipy.odr.OdrStop" title="scipy.odr.OdrStop"><code class="xref py py-class docutils literal"><span class="pre">OdrStop</span></code></a></td>
</tr>
</tbody>
</table>
<p>Prebuilt models:</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#scipy.odr.polynomial" title="scipy.odr.polynomial"><code class="xref py py-obj docutils literal"><span class="pre">polynomial</span></code></a>(order)</td>
<td>Factory function for a general polynomial model.</td>
</tr>
</tbody>
</table>
<dl class="data">
<dt id="scipy.odr.exponential">
<code class="descclassname">scipy.odr.</code><code class="descname">exponential</code><a class="reference external" href="http://github.com/scipy/scipy/blob/v0.19.1/scipy/odr/odrpack.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.odr.exponential" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="scipy.odr.multilinear">
<code class="descclassname">scipy.odr.</code><code class="descname">multilinear</code><a class="reference external" href="http://github.com/scipy/scipy/blob/v0.19.1/scipy/odr/odrpack.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.odr.multilinear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="scipy.odr.unilinear">
<code class="descclassname">scipy.odr.</code><code class="descname">unilinear</code><a class="reference external" href="http://github.com/scipy/scipy/blob/v0.19.1/scipy/odr/odrpack.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.odr.unilinear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="scipy.odr.quadratic">
<code class="descclassname">scipy.odr.</code><code class="descname">quadratic</code><a class="reference external" href="http://github.com/scipy/scipy/blob/v0.19.1/scipy/odr/odrpack.py"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.odr.quadratic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="data">
<dt id="scipy.odr.polynomial">
<code class="descclassname">scipy.odr.</code><code class="descname">polynomial</code><a class="reference external" href="http://github.com/scipy/scipy/blob/v0.19.1/scipy/odr/models.py#L94-L131"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scipy.odr.polynomial" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="usage-information">
<h2>Usage information<a class="headerlink" href="#usage-information" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p>Why Orthogonal Distance Regression (ODR)?  Sometimes one has
measurement errors in the explanatory (a.k.a., &#8220;independent&#8221;)
variable(s), not just the response (a.k.a., &#8220;dependent&#8221;) variable(s).
Ordinary Least Squares (OLS) fitting procedures treat the data for
explanatory variables as fixed, i.e., not subject to error of any kind.
Furthermore, OLS procedures require that the response variables be an
explicit function of the explanatory variables; sometimes making the
equation explicit is impractical and/or introduces errors.  ODR can
handle both of these cases with ease, and can even reduce to the OLS
case if that is sufficient for the problem.</p>
<p>ODRPACK is a FORTRAN-77 library for performing ODR with possibly
non-linear fitting functions.  It uses a modified trust-region
Levenberg-Marquardt-type algorithm <a class="reference internal" href="#r771" id="id1">[R771]</a> to estimate the function
parameters.  The fitting functions are provided by Python functions
operating on NumPy arrays.  The required derivatives may be provided
by Python functions as well, or may be estimated numerically.  ODRPACK
can do explicit or implicit ODR fits, or it can do OLS.  Input and
output variables may be multi-dimensional.  Weights can be provided to
account for different variances of the observations, and even
covariances between dimensions of the variables.</p>
<p>The <a class="reference internal" href="#module-scipy.odr" title="scipy.odr"><code class="xref py py-obj docutils literal"><span class="pre">scipy.odr</span></code></a> package offers an object-oriented interface to
ODRPACK, in addition to the low-level <a class="reference internal" href="generated/scipy.odr.odr.html#scipy.odr.odr" title="scipy.odr.odr"><code class="xref py py-obj docutils literal"><span class="pre">odr</span></code></a> function.</p>
<p>Additional background information about ODRPACK can be found in the
<a class="reference external" href="https://docs.scipy.org/doc/external/odrpack_guide.pdf">ODRPACK User&#8217;s Guide</a>, reading
which is recommended.</p>
</div>
<div class="section" id="basic-usage">
<h3>Basic usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Define the function you want to fit against.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Linear function y = m*x + b&#39;&#39;&#39;</span>
    <span class="c1"># B is a vector of the parameters.</span>
    <span class="c1"># x is an array of the current x values.</span>
    <span class="c1"># x is in the same format as the x passed to Data or RealData.</span>
    <span class="c1">#</span>
    <span class="c1"># Return an array in the same format as y passed to Data or RealData.</span>
    <span class="k">return</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a Model.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">linear</span> <span class="o">=</span> <span class="n">Model</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a Data or RealData instance.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mydata</span> <span class="o">=</span> <span class="n">Data</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">wd</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">power</span><span class="p">(</span><span class="n">sx</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">we</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">power</span><span class="p">(</span><span class="n">sy</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>or, when the actual covariances are known:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mydata</span> <span class="o">=</span> <span class="n">RealData</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">sx</span><span class="o">=</span><span class="n">sx</span><span class="p">,</span> <span class="n">sy</span><span class="o">=</span><span class="n">sy</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Instantiate ODR with your data, model and initial parameter estimate.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">myodr</span> <span class="o">=</span> <span class="n">ODR</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span> <span class="n">linear</span><span class="p">,</span> <span class="n">beta0</span><span class="o">=</span><span class="p">[</span><span class="mf">1.</span><span class="p">,</span> <span class="mf">2.</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">Run the fit.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">myoutput</span> <span class="o">=</span> <span class="n">myodr</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">Examine output.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">myoutput</span><span class="o">.</span><span class="n">pprint</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<table class="docutils citation" frame="void" id="r771" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[R771]</a></td><td>P. T. Boggs and J. E. Rogers, &#8220;Orthogonal Distance Regression,&#8221;
in &#8220;Statistical analysis of measurement error models and
applications: proceedings of the AMS-IMS-SIAM joint summer research
conference held June 10-16, 1989,&#8221; Contemporary Mathematics,
vol. 112, pg. 186, 1990.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2016, The Scipy community.
      </li>
      <li>
      Last updated on Jun 21, 2017.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5.3.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>